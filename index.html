<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>San Valent√≠n ‚ù§Ô∏è</title>

<style>
body {
  margin: 0;
  background: #fde2e4;
  overflow: hidden;
  font-family: 'Segoe UI', sans-serif;
}

/* ---------- INICIO ---------- */
#start {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

#heartBtn {
  width: 150px;
  height: 150px;
  background: #ff5d8f;
  transform: rotate(-45deg);
  cursor: pointer;
  animation: pulse 1.4s infinite;
}

#heartBtn::before,
#heartBtn::after {
  content: '';
  position: absolute;
  width: 150px;
  height: 150px;
  background: #ff5d8f;
  border-radius: 50%;
}

#heartBtn::before { top: -75px; left: 0; }
#heartBtn::after  { left: 75px; top: 0; }

@keyframes pulse {
  0% { transform: rotate(-45deg) scale(1); }
  50% { transform: rotate(-45deg) scale(1.12); }
  100% { transform: rotate(-45deg) scale(1); }
}

canvas {
  display: none;
  transition: 2.5s ease;
}

/* ---------- TEXTO ---------- */
#text {
  position: absolute;
  right: 5%;
  top: 25%;
  width: 40%;
  opacity: 0;
  transition: 2s ease;
  color: #6a1f44;
}

#counter {
  margin-top: 15px;
  font-size: 18px;
}
</style>
</head>

<body>

<div id="start">
  <div id="heartBtn"></div>
</div>

<canvas id="tree"></canvas>

<div id="text">
  <h1>Para Chuchi ‚ù§Ô∏è</h1>
  <p>Desde la distancia y con mucho amor te deseo feliz San Valent√≠n.<br> 
    Cada d√≠a que pasa estoy m√°s enamorado de vos.<br>
    Te amo infinito.<br>
    Rome‚ù§Ô∏è
  </p>
  <div id="counter"></div>
</div>

<script>
const canvas = document.getElementById("tree");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

/* ---------- CORAZ√ìN REAL ---------- */
function drawHeart(x, y, size, color, alpha = 1) {
  ctx.save();
  ctx.translate(x, y);
  ctx.scale(size, size);
  ctx.globalAlpha = alpha;
  ctx.fillStyle = color;

  ctx.beginPath();
  ctx.moveTo(0, -0.3);
  ctx.bezierCurveTo(-0.6, -0.9, -1.4, -0.1, 0, 1);
  ctx.bezierCurveTo(1.4, -0.1, 0.6, -0.9, 0, -0.3);
  ctx.fill();

  ctx.restore();
}

/* ---------- CORAZ√ìN GIGANTE ---------- */
let progress = 0;

function drawBigHeart() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  progress += 0.01;
  if (progress > 1) progress = 1;

  const cx = canvas.width / 2;
  const cy = canvas.height / 2 + 40;

  const colors = [
    "#ff1f3d", "#ff4d6d", "#ff6b81",
    "#ff8fa3", "#ffb3c1", "#e63946"
  ];

  const scale = 18 * progress; // üëâ tama√±o del coraz√≥n

  for (let i = 0; i < 1200; i++) {
    let t = Math.random() * Math.PI * 2;
    let r = Math.random();

    let x = 16 * Math.pow(Math.sin(t), 3);
    let y = -(13 * Math.cos(t)
            - 5 * Math.cos(2 * t)
            - 2 * Math.cos(3 * t)
            - Math.cos(4 * t));

    x *= r;
    y *= r;

    const px = cx + x * scale;
    const py = cy + y * scale;

    const size = 5 + Math.random() * 4;
    const color = colors[Math.floor(Math.random() * colors.length)];

    drawHeart(px, py, size, color, 0.95);
  }

  if (progress < 1) requestAnimationFrame(drawBigHeart);
}

/* ---------- INICIO ---------- */
document.getElementById("heartBtn").onclick = () => {
  document.getElementById("start").style.display = "none";
  canvas.style.display = "block";
  drawBigHeart();

  setTimeout(() => {
    canvas.style.transform = "translateX(-18%)";
    document.getElementById("text").style.opacity = 1;
  }, 4200);
};

/* ---------- CONTADOR ---------- */
const startDate = new Date("2024-10-12T00:00:00");

function updateCounter() {
  const diff = new Date() - startDate;
  const d = Math.floor(diff / 86400000);
  const h = Math.floor(diff / 3600000) % 24;
  const m = Math.floor(diff / 60000) % 60;
  const s = Math.floor(diff / 1000) % 60;

  document.getElementById("counter").innerHTML =
    `üíû ${d} d√≠as ${h} hs ${m} min ${s} seg`;
}
setInterval(updateCounter, 1000);
updateCounter();
</script>

</body>
</html>
